
<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <base href="http://localhost:8026"/>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <form action="index.php" method="GET" id="f">
<input type="checkbox" id="hint1" name="check" />
        <input type="checkbox" id="hint2" name="check" />
        <input type="checkbox" id="hint3" name="check" />

        <div class=" title">
            <div class="inhalt">
                <h1> WEB Exploitation</h1>
            </div>
        </div>

        <div class="box">
            <h1> SQL-Injection</h1>
            <ul>
                <li><button type="submit" name="stufe1"> Stufe 1 </button>

                </li>
                <li><span style="color:#0c2461">Stufe 2</span>
                    <label for="flag1" class="flag1">ROUND1</label>
                </li>

            </ul>
        </div>
        <div class="box">
            <h1> XSS-Injection</h1>
            <ul>
                <li><span style="color:#0c2461"> Reflektiertes XSS </span>
                    <label for="flag2" class="flag2">Reflektiertes XSS Reflektiertes XSS</label>
                </li>
                <li><span style="color:#0c2461"> Persistentes XSS </span>
                    <label for="flag3" class="flag3">Persistentes XSS Persistentes XSS</label>
                </li>

            </ul>
        </div>
        <div class="rahmen">

            <div class="box">
        
                <div class="auswahl">
                    <?php
              
                    echo '<div ><strong><span style =" color:blue">Challenge 2: Unberechtigter Datenzugriff </strong></div>';
                    echo "<br/>";
                    echo '<div style="color: black; text-align: left; margin: -133px 203px; font-size: 12px;position: absolute;
                  width: 315px;"><strong style ="margin: 130px -142px; position: absolute;">1. Betimme gesamte Anzahl der Spalten </strong></div>';
                    
 echo '<div class ="hints" style="margin: 119px 360px;">  Hint 1
                            <label for="hint1" class="begin">Hint 1</label>  </div>';
 echo '<div class ="hints"style="margin: 182px 360px;">  Hint 2
                            <label for="hint2" class="begin">Hint 2</label>  </div>';
 echo '<div class ="hints"style="margin: 245px 360px;">  Hint 3
                            <label for="hint3" class="begin">Hint 3</label>  </div>';

include 'sql_conn.php';
                  $id = $_GET['id'];
                  $a = explode(' ', $id, 2);
                  $s = "SELECT * FROM Filiale $a[1]";
// UNION SELECT NULL, "a","a","a","a";

$resulti = mysqli_query($conn, $s) or trigger_error("Query Failed! SQL: $s - Error: " );
    
echo '<table width=\"35%\" border=\"1\" cellpadding=\"0\" cellspacing=\"2\" style="margin: 10px 58px;" ><tr><th>Filiale</th><th>Standort</th><th>Land</th></tr>';
    while ($aus =  $resulti->fetch_object()) {

        #echo $aus->username."-". $aus->password;
        echo " <tr>";
        echo "<td align='center'>" . $aus->Filiale . "</td>";
        echo "<td align='center'>"  . $aus->Standort . "</td>";
        echo "<td align='center'>"  . $aus->land . "</td>";
        echo "<br />";
    }

    echo "</tr>";
    echo "</table>";
    echo "</br> ";
  ?>

</div>
</div>
</div>
<div class="hints_union">
          <span> Hint 1: Anfang  muss mit URL durchgefuert werde. </span>
        </div>

    </form>
</body>

</html>
