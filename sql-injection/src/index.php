<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <base href="http://localhost:8026"/>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <form action="index.php" method="POST" id="f">

        <input type="checkbox" id="flag1" name="check" />
        <input type="checkbox" id="flag2" name="check" />
        <input type="checkbox" id="flag3" name="check" />
        <input type="checkbox" id="checkbox" name="check_round1" />
        <input type="checkbox" id="s1_solution" name="s1_solution" />

        <div class=" title">
            <div class="inhalt">
                <div style ="margin: 10px 70px;font-size: 18px; position: absolute; float : left;"><a href="http://localhost">Startseite</a></div>

                <h1> WEB Exploitation</h1>
            </div>
        </div>

        <div class="box">
            <h1> SQL-Injection</h1>
            <ul>
		<li>
                    <a href="einleitung1.php"><span style="color :#0c2461; text-decoration:none;">Einleitung</span></a>
                </li>

                <li><button type="submit" name="stufe1"> Stufe 1 </button>

                </li>
                <li><span style="color:#0c2461">Stufe 2</span>
                    <label for="flag2" class="flag2" ">Stufe 2 Stufe 2 Stufe 2 Stufe 2</label>
                </li>

            </ul>
        </div>
        <div class="box">
            <h1> XSS-Injection</h1>
            <ul>
		<li><a href="einleitung1.php"><span style="color :#0c2461; text-decoration:none;">Einleitung</span></a>

                </li>

                <li><span style="color:#0c2461"> Reflektiertes XSS </span>
                    <label for="flag2" class="flag2">Reflektiertes XSS Reflektiertes XSS</label>
                </li>
                <li><span style="color:#0c2461"> Persistentes XSS </span>
                    <label for="flag3" class="flag3">Persistentes XSS Persistentes XSS</label>
                </li>

            </ul>
        </div>
        <div class="rahmen">

            <div class="box">

                <div class="auswahl">
                    <div class="auswahl2">
                        <?php

                        $status = false;
                        if ((isset($_POST['stufe1'])) | (isset($_POST['login']))) {
                            echo '<div class = "chall1"><strong>Stufe 1: Demonstration einer SQL-Injection-Sicherheitslücke </strong></div>';

                            echo "<br/> <br/>";
                            echo '<div style="color: black; text-align: left; margin: -24px 41px;font-size: 14px;float: left;position: absolute;
                            width: 420px;"><strong> In dieser Challenge entdeckst du Möglichkeiten zum Einloggen , ohne Passwort zu kennen.</br></strong></div>';
                        } ?>
                    </div>


                    <?php

                    if ((isset($_POST['flag_btn']))|(isset($_POST['back']))) {
                        include 'check_flags.php';
                    }
                    ?>
			                    
                        <?php
                        include 'conn.php';
                        $done = false;
                        if (isset($_POST['stufe1']) | (isset($_POST['login']))) {
                            echo '<div class="round1">  Beginn
                            <label for="checkbox" class="begin">Beginn</label>  </div>';
				echo '<div class="round2">  Lösungen
                            <label for="s1_solution" class="begin1">Lösungen</label>  </div>';
				echo"<br/><br/><br/>";
	
				include 'sql_select.php';

                            if ($status == false) {
                            echo"<br/>";    include 'ausgabe.php';
                            }
                            do {
                                if (isset($_POST['cancel'])) {
                                    exit;
                                }
                            } while (0);


                        } 
 ?>

                        <?php if ($status == true) {

                            echo '<div id="erg" ><h3> Ungültige Eingabe!</h3> </div>';
                        }

                        ?>
                    </div>

               

            </div>
        </div>

        <div class="flag_popup">
            <div class="flag_eingabe">
                <input type="text" id="flag_text" name="flag_eingabe" autocomplete="off"
                    placeholder="Geben sie Flag ein" style="width: 322px;
height: 40px; margin: 1px 20px; ">
            </div>
            <div class="flag_btn">
                <input type="submit" name="flag_btn" value="submit"
                    style="  height: 40px;width: 350px; margin: 10px 30px;
  background: #00dbff52; border-top-right-radius: 10px; border-top-left-radius: 10px;border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;">
            </div>
        </div>
   <div class="solution">
          <span> 1. Verwende Burp (Suite) Tool oder sqlmap Commandline Tool um SQL-Schwachstellen direkt zu finden. </span>
          <p> 2. Gebe dem Benutzername den Wert <strong>admin' or 1='1</strong>. </p>
<span> 3. Alternative Lösungen: <strong>' OR 1='1;-- </strong></span>
<p style="text-align:center;">  <strong> admin'#  </strong></p>
<p style="text-align:center;"> <strong> admin' or 1=1#  </strong></p>




        </div>




        <div class="popup">

            <input type="submit" name="cancel" class="cancel" value="x">

            <label for="checkbox" class="cancel"> </label>
            <div class="round"> Stufe 1
            </div>
            <div class="inhalt"></div>
            <?php
            echo "Du kannst den Nutzernamen  admin verwenden. Finde heraus wie du dich ohne Password einlogen kannst. <br /> <br />";

            ?>




            <div class="name">
                <input type="text" name="username" placeholder="username" autocomplete="off">
                <input type="password" name="password" placeholder="Password">
            </div>
            <div class="btn">
                <input type="submit" name="login" value="submit">
            </div>
    </form>
    <div class=" text">
    </div>

    <div class="hint">
        <ul>
            <p>Hinweise:</p>
            <li>
                <div class="content">
                    <h3>Anführungszeichen (')</h3>
                    <p> Anführungszeichen (') schließt oder öffnet die SQL-Anweisung. <br /> </p>
                </div>

            </li>
            <li>
                <div class="content">
                    <h3> Boolescher Bedingungen Schlüsselwort OR </h3>
                    <p> 1=1 ist eine Anweisung, die immer den Wert true liefert. <br /> </p>
                </div>

            </li>
            <li>
                <div class="content">
                    <h3> # charactor</h3>
                    <p> Das Doppelkreuz (#) kommentieren den Rest der SQL-Anfrage aus.</p>
                </div>
            </li>
            <li>
                <div class="content">
                    <h3> Das Semikolon (;)</h3>
                    <p> Das Semikolon (;) beendet die SQL-Anweisung </p>
                </div>

            </li>

        </ul>
    </div>
    </div>

    </form>

</body>

</html>
